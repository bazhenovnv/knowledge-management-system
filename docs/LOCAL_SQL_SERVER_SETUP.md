# üîå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –æ–±–ª–∞—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É SQL Server

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

1. **–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –≤ SQL Server**
2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É–¥–∞–ª—ë–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ SQL Server**
3. **–°–æ–∑–¥–∞—Ç—å —Å–µ–∫—Ä–µ—Ç —Å connection string**
4. **–°–æ–∑–¥–∞—Ç—å –æ–±–ª–∞—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î**

---

## 1Ô∏è‚É£ –ò–º–ø–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ SQL Server Management Studio (SSMS)

### –®–∞–≥ 2: –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `export_to_sqlserver.sql`
2. –ù–∞–∂–º–∏—Ç–µ **F5** –∏–ª–∏ –∫–Ω–æ–ø–∫—É **Execute**
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–º–ø–æ—Ä—Ç–∞

‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞ —Å–æ –≤—Å–µ–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏ –∏ –¥–∞–Ω–Ω—ã–º–∏

---

## 2Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ SQL Server

### –í–∞—Ä–∏–∞–Ω—Ç A: SQL Server –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ (–ø—Ä–æ—Å—Ç–æ–π, –Ω–æ –º–µ–Ω–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π)

#### 1. –í–∫–ª—é—á–∏—Ç–µ TCP/IP –ø—Ä–æ—Ç–æ–∫–æ–ª
```
SQL Server Configuration Manager ‚Üí 
SQL Server Network Configuration ‚Üí 
Protocols for MSSQLSERVER ‚Üí 
TCP/IP ‚Üí Enable
```

#### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1433)
```
TCP/IP ‚Üí Properties ‚Üí IP Addresses ‚Üí 
IPAll ‚Üí TCP Port: 1433
```

#### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ SQL Server
```
Services ‚Üí SQL Server (MSSQLSERVER) ‚Üí Restart
```

#### 4. –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```sql
-- –í SSMS –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
CREATE LOGIN cloud_functions_user WITH PASSWORD = 'YourStrongPassword123!';
GO

USE t_p47619579_knowledge_management;
GO

CREATE USER cloud_functions_user FOR LOGIN cloud_functions_user;
GO

-- –î–∞–π—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å
GRANT SELECT, INSERT, UPDATE, DELETE ON SCHEMA::t_p47619579_knowledge_management TO cloud_functions_user;
GO
```

#### 5. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç –≤ Windows Firewall
```
Windows Defender Firewall ‚Üí 
Advanced Settings ‚Üí 
Inbound Rules ‚Üí 
New Rule ‚Üí 
Port ‚Üí TCP ‚Üí 1433 ‚Üí 
Allow the connection
```

#### 6. –£–∑–Ω–∞–π—Ç–µ –≤–∞—à –≤–Ω–µ—à–Ω–∏–π IP-–∞–¥—Ä–µ—Å
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://whatismyipaddress.com/
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à IPv4 –∞–¥—Ä–µ—Å

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ï—Å–ª–∏ —É –≤–∞—Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π IP, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–µ—Ä–≤–∏—Å DynDNS –∏–ª–∏ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –í–∞—Ä–∏–∞–Ω—Ç B

---

### –í–∞—Ä–∏–∞–Ω—Ç B: SQL Server —á–µ—Ä–µ–∑ VPN —Ç—É–Ω–Ω–µ–ª—å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **ngrok** –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ç—É–Ω–Ω–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è:

#### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ngrok
- –°–∫–∞—á–∞–π—Ç–µ —Å https://ngrok.com/download
- –†–∞—Å–ø–∞–∫—É–π—Ç–µ –≤ –ª—é–±—É—é –ø–∞–ø–∫—É

#### 2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω
- https://dashboard.ngrok.com/signup
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à authtoken

#### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ ngrok
```bash
ngrok config add-authtoken YOUR_AUTH_TOKEN
```

#### 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç—É–Ω–Ω–µ–ª—å –¥–ª—è SQL Server
```bash
ngrok tcp 1433
```

#### 5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL —Ç—É–Ω–Ω–µ–ª—è
–í—ã —É–≤–∏–¥–∏—Ç–µ —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:
```
Forwarding: tcp://0.tcp.ngrok.io:12345 -> localhost:1433
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: `0.tcp.ngrok.io:12345` - —ç—Ç–æ –≤–∞—à –≤–Ω–µ—à–Ω–∏–π –∞–¥—Ä–µ—Å SQL Server

‚úÖ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** 
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- –ù–µ –Ω—É–∂–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –ø–æ—Ä—Ç—ã
- –†–∞–±–æ—Ç–∞–µ—Ç —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º IP

---

## 3Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞ —Å connection string

### –§–æ—Ä–º–∞—Ç connection string –¥–ª—è SQL Server

**–î–ª—è –≤–∞—Ä–∏–∞–Ω—Ç–∞ A (–ø—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ):**
```
Server=YOUR_IP_ADDRESS,1433;Database=t_p47619579_knowledge_management;User Id=cloud_functions_user;Password=YourStrongPassword123!;Encrypt=false;TrustServerCertificate=true;
```

**–î–ª—è –≤–∞—Ä–∏–∞–Ω—Ç–∞ B (ngrok —Ç—É–Ω–Ω–µ–ª—å):**
```
Server=0.tcp.ngrok.io,12345;Database=t_p47619579_knowledge_management;User Id=cloud_functions_user;Password=YourStrongPassword123!;Encrypt=false;TrustServerCertificate=true;
```

### –ó–∞–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è:
- `YOUR_IP_ADDRESS` ‚Üí –≤–∞—à –≤–Ω–µ—à–Ω–∏–π IP (–∏–∑ —à–∞–≥–∞ 2.A.6)
- `0.tcp.ngrok.io,12345` ‚Üí –∞–¥—Ä–µ—Å –∏–∑ ngrok (–∏–∑ —à–∞–≥–∞ 2.B.5)
- `cloud_functions_user` ‚Üí –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è SQL
- `YourStrongPassword123!` ‚Üí –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è SQL

---

## 4Ô∏è‚É£ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞ –≤ poehali.dev

### –í —á–∞—Ç–µ —Å –Æ—Ä–æ–π –Ω–∞–ø–∏—à–∏—Ç–µ:
```
–î–æ–±–∞–≤—å —Å–µ–∫—Ä–µ—Ç SQL_SERVER_CONNECTION_STRING
```

–Æ—Ä–∞ —Å–æ–∑–¥–∞—Å—Ç —Å–µ–∫—Ä–µ—Ç, –∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å connection string —á–µ—Ä–µ–∑ UI.

---

## 5Ô∏è‚É£ –ü—Ä–∏–º–µ—Ä –æ–±–ª–∞—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å SQL Server

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–∞, –ø–æ–ø—Ä–æ—Å–∏—Ç–µ –Æ—Ä—É —Å–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é:

```
–°–æ–∑–¥–∞–π —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏–∑ SQL Server
```

–Æ—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è:
- –ü–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ –≤–∞—à–µ–º—É SQL Server
- –í—ã–ø–æ–ª–Ω–∏—Ç SQL –∑–∞–ø—Ä–æ—Å—ã
- –í–µ—Ä–Ω—ë—Ç –¥–∞–Ω–Ω—ã–µ –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **—Å–ª–æ–∂–Ω—ã–µ –ø–∞—Ä–æ–ª–∏** –¥–ª—è SQL –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ **ngrok —Ç—É–Ω–Ω–µ–ª—å** –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
3. –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **SSL/TLS** —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

### ‚ö†Ô∏è –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `sa` (admin) –∞–∫–∫–∞—É–Ω—Ç
- –û—Ç–∫—Ä—ã–≤–∞—Ç—å SQL Server –Ω–∞–ø—Ä—è–º—É—é –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –±–µ–∑ VPN
- –•—Ä–∞–Ω–∏—Ç—å connection string –≤ –∫–æ–¥–µ

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ SSMS:
```sql
-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
SELECT * FROM t_p47619579_knowledge_management.employees;
```

### –¢–µ—Å—Ç –∏–∑ –æ–±–ª–∞—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏:
–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏, –Æ—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ –≤–µ—Ä–Ω—ë—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

---

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "Login failed for user"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–ª—è
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω –≤ –±–∞–∑–µ

### –û—à–∏–±–∫–∞: "Cannot connect to server"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ SQL Server –∑–∞–ø—É—â–µ–Ω
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ TCP/IP –≤–∫–ª—é—á—ë–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall –ø—Ä–∞–≤–∏–ª–∞
- –î–ª—è ngrok: —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç—É–Ω–Ω–µ–ª—å –∞–∫—Ç–∏–≤–µ–Ω

### –û—à–∏–±–∫–∞: "Connection timeout"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å IP –∞–¥—Ä–µ—Å–∞ –∏–ª–∏ ngrok URL
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç (1433 –∏–ª–∏ ngrok –ø–æ—Ä—Ç)

---

## üìû –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

–ù–∞–ø–∏—à–∏—Ç–µ –Æ—Ä–µ:
- "–°–æ–∑–¥–∞–π —Ç–µ—Å—Ç–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ SQL Server"
- "–ü–æ–∫–∞–∂–∏ –ø—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –∫ SQL Server"
- "–ù–µ –º–æ–≥—É –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ SQL Server"

–Æ—Ä–∞ –ø–æ–º–æ–∂–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∏ –æ—Ç–ª–∞–¥–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ! üöÄ
