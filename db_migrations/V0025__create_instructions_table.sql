-- Создание таблицы инструкций
CREATE TABLE IF NOT EXISTS instructions (
    id SERIAL PRIMARY KEY,
    title VARCHAR(500) NOT NULL,
    description TEXT NOT NULL,
    icon_name VARCHAR(100) DEFAULT 'FileText',
    icon_color VARCHAR(50) DEFAULT 'blue-600',
    steps JSONB DEFAULT '[]',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Добавление начальных данных
INSERT INTO instructions (title, description, icon_name, icon_color, steps) VALUES 
(
    'Настройка онлайн-кассы',
    'Пошаговое руководство по первичной настройке кассы, регистрации в ФНС и подключению к ОФД.',
    'FileText',
    'blue-600',
    '[
        "Распаковка и подключение оборудования",
        "Регистрация в личном кабинете ФНС",
        "Подключение к оператору фискальных данных",
        "Настройка параметров печати чеков"
    ]'::jsonb
),
(
    'Подключение периферийного оборудования',
    'Инструкции по подключению сканеров, весов, принтеров этикеток и POS-терминалов.',
    'Wrench',
    'green-600',
    '[
        "Подключение сканера штрих-кодов через USB/COM-порт",
        "Настройка весового оборудования",
        "Интеграция принтера этикеток",
        "Подключение эквайрингового терминала"
    ]'::jsonb
),
(
    'Работа с фискальным накопителем',
    'Инструкции по установке, замене и закрытию фискального накопителя.',
    'Settings',
    'purple-600',
    '[
        "Установка нового фискального накопителя",
        "Проверка срока действия ФН",
        "Процедура закрытия архива ФН",
        "Замена фискального накопителя"
    ]'::jsonb
),
(
    'Интеграция с 1С',
    'Подробная инструкция по подключению онлайн-кассы к системам 1С.',
    'Database',
    'orange-600',
    '[
        "Установка драйвера ККТ для 1С",
        "Настройка обмена данными",
        "Синхронизация номенклатуры",
        "Передача чеков в бухгалтерию"
    ]'::jsonb
);